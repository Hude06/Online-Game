{"mappings":"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","sources":["app.js"],"sourcesContent":["const mapData = {\n  minX: 1,\n  maxX: 14,\n  minY: 4,\n  maxY: 12,\n  blockedSpaces: {\n    \"7x4\": true,\n    \"1x11\": true,\n    \"12x10\": true,\n    \"4x7\": true,\n    \"5x7\": true,\n    \"6x7\": true,\n    \"8x6\": true,\n    \"9x6\": true,\n    \"10x6\": true,\n    \"7x9\": true,\n    \"8x9\": true,\n    \"9x9\": true,\n  },\n};\n\n// Options for Player Colors... these are in the same order as our sprite sheet\nconst playerColors = [\"blue\", \"red\", \"orange\", \"yellow\", \"green\", \"purple\"];\n\n//Misc Helpers\nfunction randomFromArray(array) {\n  return array[Math.floor(Math.random() * array.length)];\n}\nfunction getKeyString(x, y) {\n  return `${x}x${y}`;\n}\n\nfunction createName() {\n  const prefix = randomFromArray([\n    \"COOL\",\n    \"SUPER\",\n    \"HIP\",\n    \"SMUG\",\n    \"COOL\",\n    \"SILKY\",\n    \"GOOD\",\n    \"SAFE\",\n    \"DEAR\",\n    \"DAMP\",\n    \"WARM\",\n    \"RICH\",\n    \"LONG\",\n    \"DARK\",\n    \"SOFT\",\n    \"BUFF\",\n    \"DOPE\",\n  ]);\n  const animal = randomFromArray([\n    \"BEAR\",\n    \"DOG\",\n    \"CAT\",\n    \"FOX\",\n    \"LAMB\",\n    \"LION\",\n    \"BOAR\",\n    \"GOAT\",\n    \"VOLE\",\n    \"SEAL\",\n    \"PUMA\",\n    \"MULE\",\n    \"BULL\",\n    \"BIRD\",\n    \"BUG\",\n  ]);\n  return `${prefix} ${animal}`;\n}\n\nfunction isSolid(x,y) {\n\n  const blockedNextSpace = mapData.blockedSpaces[getKeyString(x, y)];\n  return (\n    blockedNextSpace ||\n    x >= mapData.maxX ||\n    x < mapData.minX ||\n    y >= mapData.maxY ||\n    y < mapData.minY\n  )\n}\n\nfunction getRandomSafeSpot() {\n  //We don't look things up by key here, so just return an x/y\n  return randomFromArray([\n    { x: 1, y: 4 },\n    { x: 2, y: 4 },\n    { x: 1, y: 5 },\n    { x: 2, y: 6 },\n    { x: 2, y: 8 },\n    { x: 2, y: 9 },\n    { x: 4, y: 8 },\n    { x: 5, y: 5 },\n    { x: 5, y: 8 },\n    { x: 5, y: 10 },\n    { x: 5, y: 11 },\n    { x: 11, y: 7 },\n    { x: 12, y: 7 },\n    { x: 13, y: 7 },\n    { x: 13, y: 6 },\n    { x: 13, y: 8 },\n    { x: 7, y: 6 },\n    { x: 7, y: 7 },\n    { x: 7, y: 8 },\n    { x: 8, y: 8 },\n    { x: 10, y: 8 },\n    { x: 8, y: 8 },\n    { x: 11, y: 4 },\n  ]);\n}\n\n\n\n(function () {\n\n  let playerId;\n  let playerRef;\n  let players = {};\n  let playerElements = {};\n  let coins = {};\n  let coinElements = {};\n\n  const gameContainer = document.querySelector(\".game-container\");\n  const playerNameInput = document.querySelector(\"#player-name\");\n  const playerColorButton = document.querySelector(\"#player-color\");\n\n\n  function placeCoin() {\n    const { x, y } = getRandomSafeSpot();\n    const coinRef = firebase.database().ref(`coins/${getKeyString(x, y)}`);\n    coinRef.set({\n      x,\n      y,\n    })\n\n    const coinTimeouts = [2000, 3000, 4000, 5000];\n    setTimeout(() => {\n      placeCoin();\n    }, randomFromArray(coinTimeouts));\n  }\n\n  function attemptGrabCoin(x, y) {\n    const key = getKeyString(x, y);\n    if (coins[key]) {\n      // Remove this key from data, then uptick Player's coin count\n      firebase.database().ref(`coins/${key}`).remove();\n      playerRef.update({\n        coins: players[playerId].coins + 1,\n      })\n    }\n  }\n\n  \n\n  function handleArrowPress(xChange=0, yChange=0) {\n    const newX = players[playerId].x + xChange;\n    const newY = players[playerId].y + yChange;\n    if (!isSolid(newX, newY)) {\n      //move to the next space\n      players[playerId].x = newX;\n      players[playerId].y = newY;\n      if (xChange === 1) {\n        players[playerId].direction = \"right\";\n      }\n      if (xChange === -1) {\n        players[playerId].direction = \"left\";\n      }\n      playerRef.set(players[playerId]);\n      attemptGrabCoin(newX, newY);\n    }\n  }\n\n  function initGame() {\n\n    new KeyPressListener(\"ArrowUp\", () => handleArrowPress(0, -1))\n    new KeyPressListener(\"ArrowDown\", () => handleArrowPress(0, 1))\n    new KeyPressListener(\"ArrowLeft\", () => handleArrowPress(-1, 0))\n    new KeyPressListener(\"ArrowRight\", () => handleArrowPress(1, 0))\n\n    const allPlayersRef = firebase.database().ref(`players`);\n    const allCoinsRef = firebase.database().ref(`coins`);\n\n    allPlayersRef.on(\"value\", (snapshot) => {\n      //Fires whenever a change occurs\n      players = snapshot.val() || {};\n      Object.keys(players).forEach((key) => {\n        const characterState = players[key];\n        let el = playerElements[key];\n        // Now update the DOM\n        el.querySelector(\".Character_name\").innerText = characterState.name;\n        el.querySelector(\".Character_coins\").innerText = characterState.coins;\n        el.setAttribute(\"data-color\", characterState.color);\n        el.setAttribute(\"data-direction\", characterState.direction);\n        const left = 16 * characterState.x + \"px\";\n        const top = 16 * characterState.y - 4 + \"px\";\n        el.style.transform = `translate3d(${left}, ${top}, 0)`;\n      })\n    })\n    allPlayersRef.on(\"child_added\", (snapshot) => {\n      //Fires whenever a new node is added the tree\n      const addedPlayer = snapshot.val();\n      const characterElement = document.createElement(\"div\");\n      characterElement.classList.add(\"Character\", \"grid-cell\");\n      if (addedPlayer.id === playerId) {\n        characterElement.classList.add(\"you\");\n      }\n      characterElement.innerHTML = (`\n        <div class=\"Character_shadow grid-cell\"></div>\n        <div class=\"Character_sprite grid-cell\"></div>\n        <div class=\"Character_name-container\">\n          <span class=\"Character_name\"></span>\n          <span class=\"Character_coins\">0</span>\n        </div>\n        <div class=\"Character_you-arrow\"></div>\n      `);\n      playerElements[addedPlayer.id] = characterElement;\n\n      //Fill in some initial state\n      characterElement.querySelector(\".Character_name\").innerText = addedPlayer.name;\n      characterElement.querySelector(\".Character_coins\").innerText = addedPlayer.coins;\n      characterElement.setAttribute(\"data-color\", addedPlayer.color);\n      characterElement.setAttribute(\"data-direction\", addedPlayer.direction);\n      const left = 16 * addedPlayer.x + \"px\";\n      const top = 16 * addedPlayer.y - 4 + \"px\";\n      characterElement.style.transform = `translate3d(${left}, ${top}, 0)`;\n      gameContainer.appendChild(characterElement);\n    })\n\n\n    //Remove character DOM element after they leave\n    allPlayersRef.on(\"child_removed\", (snapshot) => {\n      const removedKey = snapshot.val().id;\n      gameContainer.removeChild(playerElements[removedKey]);\n      delete playerElements[removedKey];\n    })\n\n\n    //New - not in the video!\n    //This block will remove coins from local state when Firebase `coins` value updates\n    allCoinsRef.on(\"value\", (snapshot) => {\n      coins = snapshot.val() || {};\n    });\n    //\n\n    allCoinsRef.on(\"child_added\", (snapshot) => {\n      const coin = snapshot.val();\n      const key = getKeyString(coin.x, coin.y);\n      coins[key] = true;\n\n      // Create the DOM Element\n      const coinElement = document.createElement(\"div\");\n      coinElement.classList.add(\"Coin\", \"grid-cell\");\n      coinElement.innerHTML = `\n        <div class=\"Coin_shadow grid-cell\"></div>\n        <div class=\"Coin_sprite grid-cell\"></div>\n      `;\n\n      // Position the Element\n      const left = 16 * coin.x + \"px\";\n      const top = 16 * coin.y - 4 + \"px\";\n      coinElement.style.transform = `translate3d(${left}, ${top}, 0)`;\n\n      // Keep a reference for removal later and add to DOM\n      coinElements[key] = coinElement;\n      gameContainer.appendChild(coinElement);\n    })\n    allCoinsRef.on(\"child_removed\", (snapshot) => {\n      const {x,y} = snapshot.val();\n      const keyToRemove = getKeyString(x,y);\n      gameContainer.removeChild( coinElements[keyToRemove] );\n      delete coinElements[keyToRemove];\n    })\n\n\n    //Updates player name with text input\n    playerNameInput.addEventListener(\"change\", (e) => {\n      const newName = e.target.value || createName();\n      playerNameInput.value = newName;\n      playerRef.update({\n        name: newName\n      })\n    })\n\n    //Update player color on button click\n    playerColorButton.addEventListener(\"click\", () => {\n      const mySkinIndex = playerColors.indexOf(players[playerId].color);\n      const nextColor = playerColors[mySkinIndex + 1] || playerColors[0];\n      playerRef.update({\n        color: nextColor\n      })\n    })\n\n    //Place my first coin\n    placeCoin();\n\n  }\n\n  firebase.auth().onAuthStateChanged((user) => {\n    console.log(user)\n    if (user) {\n      //You're logged in!\n      playerId = user.uid;\n      playerRef = firebase.database().ref(`players/${playerId}`);\n\n      const name = createName();\n      playerNameInput.value = name;\n\n      const {x, y} = getRandomSafeSpot();\n\n\n      playerRef.set({\n        id: playerId,\n        name,\n        direction: \"right\",\n        color: randomFromArray(playerColors),\n        x,\n        y,\n        coins: 0,\n      })\n\n      //Remove me from Firebase when I diconnect\n      playerRef.onDisconnect().remove();\n\n      //Begin the game now that we are signed in\n      initGame();\n    } else {\n      //You're logged out.\n    }\n  })\n\n  firebase.auth().signInAnonymously().catch((error) => {\n    var errorCode = error.code;\n    var errorMessage = error.message;\n    // ...\n    console.log(errorCode, errorMessage);\n  });\n\n\n})();"],"names":[],"version":3,"file":"index.7c0ccee6.js.map","sourceRoot":"/__parcel_source_root/"}